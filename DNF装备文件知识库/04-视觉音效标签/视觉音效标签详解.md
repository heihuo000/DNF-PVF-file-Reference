# DNF装备文件视觉音效标签详解

## 📖 概述

视觉音效标签控制装备在游戏中的外观显示、动画效果、音效播放等表现形式。这些标签让装备不仅具备数值功能，更拥有丰富的视听体验。

---

## 🖼️ 图标和图像标签

### 装备图标
```
[icon]
<图标文件路径>
```
- **功能**: 设置装备在背包中显示的图标
- **示例**: `[icon] equipment/sword.img`
- **格式**: 相对路径，通常为 `.img` 格式
- **注意**: 图标文件必须存在于游戏资源中

### 野外显示图像
```
[field image]
<图像文件路径>
```
- **功能**: 设置装备在野外掉落时的显示图像
- **示例**: `[field image] equipment/field/sword_drop.img`
- **用途**: 地面掉落物品的视觉表现

### 扩展动画
```
[expand ani]
<动画文件路径>
```
- **功能**: 设置装备的扩展动画效果
- **示例**: `[expand ani] equipment/effect/sword_glow.ani`
- **用途**: 特殊视觉效果，如发光、粒子等

---

## 🎭 动画相关标签

### 动画职业设定
```
[animation job]
<职业代码>
```
- **功能**: 指定装备动画适用的职业
- **示例**: `[animation job] [swordman]`
- **可选值**: `[swordman]`, `[fighter]`, `[gunner]`, `[mage]`, `[priest]`, `[thief]`, `[knight]`, `[demonic swordman]`

### 动画变化
```
[variation]
<变化编号>
```
- **功能**: 设置装备的动画变化版本
- **示例**: `[variation] 1`
- **用途**: 同一装备的不同动画表现

### 层级变化
```
[layer variation]
<层级编号>
```
- **功能**: 设置装备在角色身上的层级变化
- **示例**: `[layer variation] 2`
- **用途**: 控制装备显示的前后层次

### 等级分段动画
```
[level section ani]
<等级> <动画文件>
<等级> <动画文件>
...
```
- **功能**: 根据等级显示不同的动画
- **示例**:
```
[level section ani]
1 equipment/ani/sword_lv1.ani
30 equipment/ani/sword_lv30.ani
60 equipment/ani/sword_lv60.ani
```

### 终极技能场景变化
```
[change type ultimateSkillCurScene]
<场景类型>
```
- **功能**: 终极技能时的场景变化类型
- **示例**: `[change type ultimateSkillCurScene] 1`

---

## 👻 隐藏和显示标签

### 隐藏装备
```
[hide equipment]
<布尔值>
```
- **功能**: 控制装备是否在角色身上显示
- **示例**: `[hide equipment] true`
- **用途**: 隐藏装备外观但保留属性效果

### 隐藏层级
```
[hide layer]
<层级列表>
```
- **功能**: 隐藏指定的显示层级
- **示例**: `[hide layer] 1 3 5`
- **用途**: 精确控制装备的显示部分

### 时装功能过滤
```
[avatar function filter]
<过滤类型>
```
- **功能**: 时装功能的过滤设置
- **示例**: `[avatar function filter] 1`
- **用途**: 控制时装的特殊功能显示

---

## 🔊 音效设置标签

### 移动音效
```
[move wav]
<音效文件路径>
```
- **功能**: 设置装备移动时的音效
- **示例**: `[move wav] sound/equipment/sword_move.wav`
- **触发**: 角色移动时播放

### 使用音效
```
[use wav]
<音效文件路径>
```
- **功能**: 设置装备使用时的音效
- **示例**: `[use wav] sound/equipment/sword_attack.wav`
- **触发**: 装备被使用或攻击时播放

### 自定义音效
```
[custom wav]
<音效ID> <音效文件路径>
<音效ID> <音效文件路径>
...
```
- **功能**: 设置自定义的音效映射
- **示例**:
```
[custom wav]
1 sound/custom/special_effect1.wav
2 sound/custom/special_effect2.wav
```

---

## ✨ 特效相关标签

### 特效标签
```
[effect]
<特效类型> <特效参数>
```
- **功能**: 设置装备的特殊视觉效果
- **示例**: `[effect] glow 255 255 255 128`
- **参数**: 根据特效类型不同而变化

### 物品光环效果
```
[item aura]
<光环类型> <颜色参数>
```
- **功能**: 设置装备的光环效果
- **示例**: `[item aura] 1 255 200 100`
- **用途**: 高级装备的视觉标识

---

## 👗 时装专用标签

### 部件套装索引
```
[part set index]
<索引编号>
```
- **功能**: 时装部件的套装索引
- **示例**: `[part set index] 1001`
- **用途**: 时装套装的组合识别

### 时装可选择能力
```
[avatar select ability]
    [SKILL_LEVEL] <技能ID> <等级>
    [MOVE_SPEED] <数值>
    [HP MAX] <数值>
    [ATTACK_SPEED] <数值>
    [CAST_SPEED] <数值>
```
- **功能**: 时装可选择的能力加成
- **示例**:
```
[avatar select ability]
    [SKILL_LEVEL] 1001 1
    [MOVE_SPEED] 30
    [HP MAX] 200
```

### 时装有效期
```
[period]
<有效期天数>
```
- **功能**: 设置时装的有效期
- **示例**: `[period] 30` (30天有效期)
- **特殊值**: `0` 表示永久有效

---

## 🎨 颜色和材质标签

### 颜色变化
```
[color change]
<部位> <R> <G> <B> <A>
```
- **功能**: 改变装备指定部位的颜色
- **示例**: `[color change] weapon 255 100 100 255`
- **参数**: RGBA颜色值 (0-255)

### 材质效果
```
[material effect]
<材质类型> <强度>
```
- **功能**: 设置装备的材质效果
- **示例**: `[material effect] metal 0.8`
- **类型**: `metal`, `cloth`, `leather`, `magic` 等

---

## ⚙️ 使用注意事项

### 1. 文件路径规范
- 使用相对路径，以游戏资源目录为根目录
- 路径分隔符使用正斜杠 `/`
- 文件扩展名必须正确 (`.img`, `.ani`, `.wav` 等)

### 2. 动画兼容性
- 不同职业的动画文件不通用
- 动画变化编号需要对应实际存在的动画文件
- 层级设置要考虑与其他装备的兼容性

### 3. 音效格式
- 推荐使用 `.wav` 格式的音效文件
- 音效文件大小要适中，避免影响游戏性能
- 音效触发时机要合理设置

### 4. 特效性能
- 复杂特效会影响游戏性能
- 避免过多的粒子效果同时显示
- 特效颜色要与游戏整体风格协调

### 5. 时装设计
- 时装动画要与角色动作匹配
- 隐藏设置要考虑整体外观效果
- 有效期设置要符合游戏平衡

---

## 💡 完整示例

```
[name] 炫酷战士套装
[equipment type] [avatar]
[sub type] [avatar top]
[usable job] [swordman]

// 图标和图像
[icon] avatar/top/warrior_cool.img
[field image] avatar/field/warrior_cool_drop.img

// 动画设置
[animation job] [swordman]
[variation] 2
[layer variation] 1

// 等级分段动画
[level section ani]
1 avatar/ani/warrior_normal.ani
50 avatar/ani/warrior_enhanced.ani

// 音效设置
[move wav] sound/avatar/cloth_move.wav
[use wav] sound/avatar/equip_sound.wav

// 特效
[effect] glow 255 200 100 180
[item aura] 2 255 255 255

// 时装功能
[avatar select ability]
    [SKILL_LEVEL] 1001 1
    [MOVE_SPEED] 25
    [HP MAX] 300
    [ATTACK_SPEED] 15

// 有效期
[period] 0

// 隐藏设置
[hide equipment] false
[avatar function filter] 0

// 颜色效果
[color change] top 200 150 255 255

// 自定义音效
[custom wav]
1 sound/custom/special_move.wav
2 sound/custom/special_attack.wav
```

---

## 🎯 常用组合模式

### 武器视觉效果
```
[icon] equipment/weapon/sword_legend.img
[move wav] sound/weapon/sword_swing.wav
[use wav] sound/weapon/sword_hit.wav
[effect] weapon_glow 255 255 255 200
[animation job] [swordman]
[variation] 1
```

### 时装完整设置
```
[icon] avatar/top/fashion_01.img
[animation job] [all]
[avatar select ability]
    [MOVE_SPEED] 30
    [HP MAX] 500
[period] 30
[hide equipment] false
```

### 特殊效果装备
```
[icon] equipment/special/magic_ring.img
[effect] magic_circle 100 200 255 150
[item aura] 3 255 255 255
[custom wav]
1 sound/magic/cast.wav
2 sound/magic/effect.wav
```

---

*视觉音效标签让装备拥有生动的表现力，是提升游戏体验的重要组成部分*