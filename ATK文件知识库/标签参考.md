# ATK文件标签参考

## 🎯 核心伤害标签

### [damage] - 基础伤害

**功能作用**
- 设置攻击的基础伤害值
- 作为伤害计算的基础数值
- 可被武器伤害和其他加成修正

**参数详解**
- 数值类型: 整数
- 取值范围: 0-999999
- 默认值: 0
- 单位: 伤害点数

**实际应用**
```
[damage] 100        // 基础伤害100点
[damage] 1500       // 高伤害技能
[damage] 0          // 无伤害攻击（仅状态效果）
```

**使用建议**
- 根据技能等级和角色属性合理设置
- 考虑游戏平衡性，避免过高或过低
- 配合伤害加成标签使用

---

### [absolute damage] - 绝对伤害

**功能作用**
- 设置无视防御的固定伤害
- 不受目标防御力影响
- 直接扣除目标生命值

**参数详解**
- 数值类型: 整数
- 取值范围: 0-999999
- 默认值: 0
- 特性: 无视防御

**实际应用**
```
[absolute damage] 30    // 固定30点真实伤害
[absolute damage] 500   // 高额真实伤害
```

**使用建议**
- 用于特殊技能或装备效果
- 数值设置要谨慎，避免破坏平衡
- 常用于百分比生命伤害效果

---

### [damage bonus] - 伤害加成

**功能作用**
- 增加伤害的百分比加成
- 基于基础伤害计算
- 可与其他加成叠加

**参数详解**
- 数值类型: 整数
- 取值范围: -100 到 999
- 默认值: 0
- 单位: 百分比(%)

**实际应用**
```
[damage bonus] 10       // 增加10%伤害
[damage bonus] 50       // 增加50%伤害
[damage bonus] -20      // 减少20%伤害
```

---

## ⚔️ 攻击类型标签

### [attack type] - 攻击类型

**功能作用**
- 定义攻击的伤害计算方式
- 影响防御力的作用效果
- 决定伤害减免机制

**参数详解**
- `[physic]`: 物理攻击，受物理防御影响
- `[magic]`: 魔法攻击，受魔法防御影响
- `[ignore defense]`: 无视防御攻击，不受防御影响

**实际应用**
```
[attack type] [physic]          // 物理攻击
[attack type] [magic]           // 魔法攻击
[attack type] [ignore defense]  // 无视防御
```

**使用建议**
- 根据技能性质选择合适类型
- 物理攻击适用于武器技能
- 魔法攻击适用于法术技能
- 无视防御用于特殊效果

---

### [weapon damage apply] - 武器伤害应用

**功能作用**
- 控制是否应用武器伤害
- 影响最终伤害计算
- 与攻击类型配合使用

**参数详解**
- 数值类型: 整数 (0或1)
- 0: 不应用武器伤害
- 1: 应用武器伤害
- 默认值: 0

**实际应用**
```
[weapon damage apply] 1     // 应用武器伤害
[weapon damage apply] 0     // 不应用武器伤害
```

---

## 🎭 攻击目标标签

### [attack myself] - 攻击自己

**功能作用**
- 控制是否可以攻击自己
- 用于自伤技能或特殊效果
- 影响攻击判定范围

**参数详解**
- 数值类型: 整数 (0或1)
- 0: 不攻击自己 (默认)
- 1: 可以攻击自己

**实际应用**
```
[attack myself] 0       // 不攻击自己
[attack myself] 1       // 可攻击自己（自伤技能）
```

---

### [attack friend] - 攻击友军

**功能作用**
- 控制是否可以攻击友军
- 影响团队作战机制
- 用于特殊PVP设置

**参数详解**
- 数值类型: 整数 (0或1)
- 0: 不攻击友军 (默认)
- 1: 可以攻击友军

**实际应用**
```
[attack friend] 0       // 不攻击友军
[attack friend] 1       // 可攻击友军
```

---

### [attack enemy] - 攻击敌人

**功能作用**
- 控制是否可以攻击敌人
- 基础攻击判定设置
- 通常设置为1

**参数详解**
- 数值类型: 整数 (0或1)
- 0: 不攻击敌人
- 1: 攻击敌人 (默认)

**实际应用**
```
[attack enemy] 1        // 攻击敌人
[attack enemy] 0        // 不攻击敌人（纯辅助技能）
```

---

## 🌟 元素属性标签

### [elemental property] - 元素属性

**功能作用**
- 设置攻击的元素属性
- 影响元素抗性计算
- 触发元素相关效果

**参数详解**
- `[no element]`: 无元素 (默认)
- `[fire element]`: 火元素
- `[water element]`: 水元素
- `[dark element]`: 暗元素
- `[light element]`: 光元素

**实际应用**
```
[elemental property] [no element]    // 无元素
[elemental property] [fire element]  // 火元素攻击
[elemental property] [dark element]  // 暗元素攻击
```

**使用建议**
- 根据技能主题选择元素
- 考虑目标的元素抗性
- 配合元素强化属性使用

---

## 💥 击退效果标签

### [damage reaction] - 伤害反应

**功能作用**
- 设置目标受击后的反应
- 控制击退和硬直效果
- 影响连击可能性

**参数详解**
- `[none]`: 无反应
- `[damage]`: 普通伤害反应
- `[down]`: 击倒效果
- `[damage except human]`: 除人类外有伤害反应

**实际应用**
```
[damage reaction] [damage]              // 普通伤害反应
[damage reaction] [down]                // 击倒目标
[damage reaction] [damage except human] // 人类无反应
```

---

### [push aside] - 击退距离

**功能作用**
- 设置目标被击退的水平距离
- 影响位置控制效果
- 配合击倒效果使用

**参数详解**
- 数值类型: 整数
- 取值范围: 0-9999
- 默认值: 0
- 单位: 像素距离

**实际应用**
```
[push aside] 200        // 击退200像素
[push aside] 0          // 无击退
[push aside] 500        // 大幅击退
```

---

### [lift up] - 浮空高度

**功能作用**
- 设置目标被击飞的垂直高度
- 创造空中连击机会
- 影响落地时间

**参数详解**
- 数值类型: 整数
- 取值范围: 0-9999
- 默认值: 0
- 单位: 像素高度

**实际应用**
```
[lift up] 30            // 轻微浮空
[lift up] 100           // 中等浮空
[lift up] 0             // 无浮空效果
```

---

### [knuck back] - 击退类型

**功能作用**
- 控制击退的具体表现形式
- 影响目标的受击动作
- 决定是否可以受身

**参数详解**
- 0: 普通击退
- 1: 强制击退，无法受身
- -1: 不击退

**实际应用**
```
[knuck back] 1          // 强制击退
[knuck back] 0          // 普通击退
[knuck back] -1         // 不击退
```

---

## 🎲 特殊效果标签

### [bounce] - 弹跳效果

**功能作用**
- 使目标产生弹跳效果
- 配合浮空高度使用
- 创造特殊的击飞表现

**参数详解**
- 数值类型: 整数 (0或1)
- 0: 无弹跳效果
- 1: 有弹跳效果

**实际应用**
```
[bounce] 1              // 产生弹跳
[bounce] 0              // 无弹跳
```

---

### [weakness] - 弱点攻击

**功能作用**
- 设置弱点攻击的触发概率和伤害
- 基于目标当前生命值计算
- 用于高伤害爆发技能

**参数详解**
- 第一个数值: 触发概率 (%)
- 第二个数值: 伤害百分比 (基于目标当前HP)

**实际应用**
```
[weakness] 3.0 5.5      // 3%概率造成目标5.5%当前HP的伤害
[weakness] 10.0 15.0    // 10%概率造成15%当前HP伤害
```

---

### [HP drain] - 生命吸取

**功能作用**
- 攻击时吸取目标生命值
- 回复攻击者的生命
- 数值为吸取的固定量

**参数详解**
- 数值类型: 整数
- 取值范围: 0-9999
- 默认值: 0

**实际应用**
```
[HP drain] 0            // 无生命吸取
[HP drain] 50           // 吸取50点生命
```

---

### [MP drain] - 魔法吸取

**功能作用**
- 攻击时吸取目标魔法值
- 回复攻击者的魔法
- 数值为吸取的固定量

**参数详解**
- 数值类型: 整数
- 取值范围: 0-9999
- 默认值: 0

**实际应用**
```
[MP drain] 1            // 吸取1点魔法
[MP drain] 20           // 吸取20点魔法
```

---

## 🎯 命中相关标签

### [critical hit] - 暴击率

**功能作用**
- 增加或减少暴击命中概率
- 影响暴击伤害触发
- 可为负值降低暴击率

**参数详解**
- 数值类型: 浮点数
- 取值范围: -100.0 到 100.0
- 默认值: 0.0
- 单位: 百分比

**实际应用**
```
[critical hit] +2.7     // 增加2.7%暴击率
[critical hit] -1.5     // 减少1.5%暴击率
```

---

### [stuck] - 僵直概率

**功能作用**
- 设置目标进入僵直状态的概率
- 影响目标的行动能力
- 用于控制类技能

**参数详解**
- 数值类型: 浮点数
- 取值范围: 0.0 到 100.0
- 默认值: 0.0
- 单位: 百分比

**实际应用**
```
[stuck] +2.2            // 增加2.2%僵直概率
[stuck] +10.0           // 增加10%僵直概率
```

---

### [hit wav] - 命中音效

**功能作用**
- 设置攻击命中时播放的音效
- 增强攻击的反馈感
- 引用音效资源标识符

**参数详解**
- 数据类型: 字符串
- 格式: 使用反引号包围
- 内容: 音效标识符或文件路径

**实际应用**
```
[hit wav] `HIT_SOUND`           // 通用命中音效
[hit wav] `R_DARK_KNIGHT_HIT`   // 暗黑骑士命中音效
[hit wav] `THUNDER_STRIKE`      // 雷击音效
```

---

## 🎪 攻击方向标签

### [attack direction] - 攻击方向

**功能作用**
- 设置攻击的击退方向
- 影响目标的受击表现
- 配合击退距离使用

**参数详解**
- `[hit lift up]`: 向上击飞
- `[hit horizon]`: 水平击退
- `[hit down]`: 向下击打

**实际应用**
```
[attack direction] [hit lift up]    // 向上击飞
[attack direction] [hit horizon]    // 水平击退
[attack direction] [hit down]       // 向下击打
```

---

### [hit direction] - 命中方向

**功能作用**
- 限制攻击的有效方向
- 控制攻击判定范围
- 用于方向性技能

**参数详解**
- `[front]`: 仅前方有效
- `[back]`: 仅后方有效
- `[all]`: 全方向有效

**实际应用**
```
[hit direction] [front]         // 仅前方攻击有效
[hit direction] [all]           // 全方向攻击
```

---

## 🩸 命中信息标签

### [hit info] - 命中信息

**功能作用**
- 设置命中时的视觉效果
- 控制血液效果和命中类型
- 影响打击感表现

**参数详解**
- 第一个参数: 命中类型
  - `[cut]`: 切割
  - `[blow]`: 打击
  - `[burn]`: 燃烧
  - `[etc]`: 其他
  - `[mana burn]`: 魔法燃烧
- 第二个参数: 血液效果
  - `[blood]`: 有血液
  - `[no blood]`: 无血液
- 第三个参数: 命中持续时间 (毫秒)
- 第四个参数: 血液缩放比例

**实际应用**
```
[hit info] [cut] [blood] 50 1.0     // 切割，有血液，50ms，正常大小
[hit info] [blow] [no blood] 30 1.5 // 打击，无血液，30ms，1.5倍大小
[hit info] [burn] [blood] -1 -1     // 燃烧，有血液，默认时间和大小
```

---

## 🌟 状态效果标签

### [active status] - 激活状态

**功能作用**
- 为攻击添加异常状态效果
- 控制状态的触发概率和持续时间
- 实现复杂的战斗机制

**基础状态格式**
```
[active status] [状态名称] 触发概率 状态等级 持续时间 [其他参数...]
```

#### 诅咒 [curse]
```
[active status] [curse] 100 10 5000 20 20 20 20
// 参数: 概率, 等级, 持续时间, 力量减少, 体力减少, 智力减少, 精神减少
```

#### 冰冻 [freeze]
```
[active status] [freeze] 100 20 3000
// 参数: 概率, 等级, 持续时间
```

#### 眩晕 [stun]
```
[active status] [stun] 100 20 3000
// 参数: 概率, 等级, 持续时间
```

#### 减速 [slow]
```
[active status] [slow] 100 20 10000 50 50
// 参数: 概率, 等级, 持续时间, 移动速度减少(%), 攻击速度减少(%)
```

#### 加速 [haste]
```
[active status] [haste] 100 20 3000 50 50
// 参数: 概率, 等级, 持续时间, 移动速度增加(%), 攻击速度增加(%)
```

#### 石化 [stone]
```
[active status] [stone] 100 20 3000 50
// 参数: 概率, 等级, 持续时间, 防御力增加
```

#### 睡眠 [sleep]
```
[active status] [sleep] 100 20 3000
// 参数: 概率, 等级, 持续时间
```

#### 混乱 [confuse]
```
[active status] [confuse] 100 20 3000 1
// 参数: 概率, 等级, 持续时间, 1=敌我混乱攻击
```

#### 束缚 [hold]
```
[active status] [hold] 100 20 3000
// 参数: 概率, 等级, 持续时间
```

#### 虚弱 [weakness]
```
[active status] [weakness] 100 20 50
// 参数: 概率, 等级, 生命值减少百分比
```

#### 护甲破坏 [armor break]
```
[active status] [armor break] 100 20 10000 15
// 参数: 概率, 等级, 持续时间, 防御力减少检查次数
```

#### 武器破坏 [weapon break]
```
[active status] [weapon break] 100 20 10000 15
// 参数: 概率, 等级, 持续时间, 攻击力减少检查次数
```

#### 中毒 [poison]
```
[active status] [poison] 100 10 20000 1000
// 参数: 概率, 等级, 持续时间, 每次伤害
```

#### 感电 [lightning]
```
[active status] [lightning] 100 10 2000 100
// 参数: 概率, 等级, 持续时间, 每次伤害
```

#### 出血 [bleeding]
```
[active status] [bleeding] 100 10 5000 10
// 参数: 概率, 等级, 持续时间, 每次伤害
```

#### 燃烧 [burn]
```
[active status] [burn] 100 10 20000 1000 10 1 3000
// 参数: 概率, 等级, 持续时间, 每次伤害, 周围传播, 传播选项, 传播间隔
```

#### 祝福 [bless]
```
[active status] [bless] 100 10 5000 10 10 10 10
// 参数: 概率, 等级, 持续时间, 力量增加, 体力增加, 智力增加, 精神增加
```

#### 失明 [blind]
```
[active status] [blind] 100 20 3000 10 100
// 参数: 概率, 等级, 持续时间, 视野减少(%), 命中率减少
```

---

## 🎮 特殊控制标签

### [ignore defense] - 无视防御

**功能作用**
- 使攻击完全无视目标防御力
- 造成真实伤害
- 用于特殊技能或装备

**参数详解**
- 数值类型: 整数 (0或1)
- 0: 不无视防御
- 1: 无视防御

**实际应用**
```
[ignore defense] 1      // 无视防御
[ignore defense] 0      // 正常计算防御
```

---

### [human damage rate] - 人类伤害倍率

**功能作用**
- 设置对人类目标的伤害倍率
- 用于PVP平衡调整
- 可设置不同的伤害系数

**参数详解**
- 数值类型: 浮点数
- 取值范围: 0.0-999.9
- 默认值: 100.0
- 单位: 百分比

**实际应用**
```
[human damage rate] 100.0   // 正常伤害
[human damage rate] 150.0   // 对人类150%伤害
[human damage rate] 80.0    // 对人类80%伤害
```

---

### [monster damage rate] - 怪物伤害倍率

**功能作用**
- 设置对怪物目标的伤害倍率
- 用于PVE难度调整
- 区分不同目标类型

**参数详解**
- 数值类型: 浮点数
- 取值范围: 0.0-999.9
- 默认值: 100.0
- 单位: 百分比

**实际应用**
```
[monster damage rate] 100.0 // 正常伤害
[monster damage rate] 200.0 // 对怪物200%伤害
```

---

### [max target hit number] - 最大命中目标数

**功能作用**
- 限制单次攻击可命中的最大目标数量
- 用于群体攻击技能
- 控制技能的影响范围

**参数详解**
- 数值类型: 整数
- 取值范围: 1-99
- 默认值: 1

**实际应用**
```
[max target hit number] 1   // 单体攻击
[max target hit number] 5   // 最多命中5个目标
[max target hit number] 99  // 无限制群体攻击
```

---

### [ignore super armor] - 无视霸体

**功能作用**
- 使攻击可以打断霸体状态的目标
- 用于破霸体技能
- 增强控制能力

**参数详解**
- 数值类型: 整数 (0或1)
- 0: 不无视霸体
- 1: 无视霸体

**实际应用**
```
[ignore super armor] 1      // 无视霸体
[ignore super armor] 0      // 不无视霸体
```

---

### [ignore weight] - 无视重量

**功能作用**
- 使攻击效果不受目标重量影响
- 确保击退效果的一致性
- 用于特殊控制技能

**参数详解**
- 数值类型: 整数 (0或1)
- 0: 受重量影响
- 1: 无视重量

**实际应用**
```
[ignore weight] 1           // 无视重量
[ignore weight] 0           // 受重量影响
```

---

## 🏟️ PVP专用标签

### [pvp] - PVP设置

**功能作用**
- 为PVP模式设置特殊的攻击属性
- 实现PVP和PVE的差异化平衡
- 包含在[pvp]和[/pvp]标签对中

**实际应用**
```
[pvp]
    [damage bonus] -10      // PVP模式下减少10%伤害
    [human damage rate] 80.0 // PVP模式下对人类80%伤害
[/pvp]
```

**使用建议**
- 用于平衡PVP战斗
- 可设置不同的伤害、状态效果等
- 确保PVP体验的公平性

---

## ⚠️ 使用注意事项

### 格式规范
1. **字符串格式**: 必须使用反引号 `` 包围，不能使用双引号 ""
2. **缩进规范**: 使用Tab键缩进，保持层次清晰
3. **数值精度**: 浮点数保留适当小数位数
4. **标签完整**: 确保开始和结束标签配对

### 性能考虑
1. **状态效果**: 避免过多复杂状态叠加
2. **命中目标**: 合理设置最大命中数量
3. **持续时间**: 避免过长的状态持续时间
4. **触发概率**: 平衡随机性和确定性

### 平衡性原则
1. **伤害数值**: 根据技能等级合理设置
2. **状态强度**: 考虑游戏整体平衡
3. **PVP调整**: 区分PVE和PVP的不同需求
4. **测试验证**: 实际测试效果和平衡性

---

*本标签参考涵盖了ATK文件的所有核心标签，为开发者提供完整的技术指导*