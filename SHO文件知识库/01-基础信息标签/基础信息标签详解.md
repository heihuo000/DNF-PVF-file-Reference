# SHO文件基础信息标签详解

## 概述

SHO文件（Shop文件）是DNF中定义NPC商店的核心配置文件。本文档详细介绍SHO文件中的基础信息标签，这些标签控制着商店的基本属性和行为。

## 文件结构

SHO文件采用标签-值的格式，每个标签都有特定的功能和语法规则。

## 基础信息标签

### 1. [npc index] - NPC索引
**功能**: 指定关联的NPC索引号
**语法**: `[npc index]	<数值>`
**示例**:
```
[npc index]	50001	// 关联NPC索引为50001的NPC
```
**说明**:
- 必须与对应的NPC文件中的索引号匹配
- 用于建立商店与NPC的关联关系
- 索引号必须是正整数

### 2. [message] - 商店消息
**功能**: 定义商店的显示消息或描述
**语法**: `[message]	`<字符串>`
**示例**:
```
[message]	`欢迎光临我的商店！`	// 商店欢迎消息
```
**说明**:
- 字符串必须使用反引号包围
- 支持多语言字符
- 可以为空，但标签必须存在

### 3. [shop type] - 商店类型
**功能**: 定义商店的类型和行为模式
**语法**: `[shop type]	<数值>`
**示例**:
```
[shop type]	0	// 普通商店
[shop type]	1	// 特殊商店
[shop type]	2	// 限时商店
```
**说明**:
- 0: 普通商店（默认）
- 1: 特殊商店（可能有特殊规则）
- 2: 限时商店（有时间限制）
- 其他数值可能有特殊含义

### 4. [buy only] - 仅购买模式
**功能**: 控制商店是否只允许购买，不允许出售
**语法**: `[buy only]	<布尔值>`
**示例**:
```
[buy only]	1	// 只能购买，不能出售
[buy only]	0	// 可以购买和出售
```
**说明**:
- 1: 启用仅购买模式
- 0: 允许购买和出售（默认）
- 影响玩家与商店的交互方式

### 5. [sell list] - 销售列表开始标记
**功能**: 标记销售商品列表的开始
**语法**: `[sell list]`
**示例**:
```
[sell list]	// 开始定义销售商品列表
```
**说明**:
- 这是一个标记标签，没有参数
- 后续的商品定义都属于这个列表
- 必须与商品配置标签配合使用

## 格式规范

### 缩进规则
- 使用Tab字符进行缩进，不使用空格
- 标签名与参数之间使用Tab分隔

### 字符串格式
- 所有字符串必须使用反引号（`）包围
- 不能使用双引号（"）或单引号（'）
- 示例：`[message]	`正确的字符串格式``

### 注释规范
- 使用 `//` 进行行尾注释
- 注释应该解释标签的用途和特殊说明
- 示例：`[npc index]	50001	// NPC索引号`

## 常见错误

### 1. 字符串格式错误
❌ **错误**:
```
[message]	"错误的字符串格式"
```
✅ **正确**:
```
[message]	`正确的字符串格式`
```

### 2. 缩进格式错误
❌ **错误**:
```
[npc index]    50001    // 使用了空格
```
✅ **正确**:
```
[npc index]	50001	// 使用Tab字符
```

### 3. 索引号错误
❌ **错误**:
```
[npc index]	-1	// 负数索引
[npc index]	abc	// 非数字索引
```
✅ **正确**:
```
[npc index]	50001	// 正整数索引
```

## 最佳实践

1. **保持一致性**: 所有SHO文件应使用相同的格式规范
2. **添加注释**: 为每个重要标签添加说明性注释
3. **验证索引**: 确保NPC索引与实际NPC文件匹配
4. **测试功能**: 修改后及时测试商店功能是否正常

## 相关文档

- [商店配置标签详解](../02-商店配置标签/商店配置标签详解.md)
- [商品配置标签详解](../03-商品配置标签/商品配置标签详解.md)
- [实际示例](../04-实际示例/)
- [PVF文件格式规范](../../PVF文件格式规范.md)

## 技术支持

如果在使用过程中遇到问题，请参考：
- [常见问题](../05-常见问题/)
- [实用工具](../06-实用工具/)
- [DNF文件知识库总览](../../DNF文件知识库总览.md)