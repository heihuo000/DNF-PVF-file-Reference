# è°ƒè¯•æŠ€å·§

## ğŸ”§ åŸºç¡€è°ƒè¯•æ–¹æ³•

### é€æ­¥æ’æŸ¥æ³•

#### 1. æ–‡ä»¶åŠ è½½æµ‹è¯•
```
æ­¥éª¤1: æ£€æŸ¥æ–‡ä»¶æ˜¯å¦èƒ½æ­£å¸¸åŠ è½½
- å°†OBJæ–‡ä»¶æ”¾å…¥æ­£ç¡®ç›®å½•
- å¯åŠ¨æ¸¸æˆï¼Œè§‚å¯Ÿæ˜¯å¦æœ‰é”™è¯¯æç¤º
- æ£€æŸ¥æ¸¸æˆæ—¥å¿—æ–‡ä»¶

æ­¥éª¤2: éªŒè¯åŸºç¡€è¯­æ³•
- ç¡®è®¤æ–‡ä»¶å¤´ #PVF_File å­˜åœ¨
- æ£€æŸ¥æ‰€æœ‰æ ‡ç­¾æ ¼å¼æ­£ç¡®
- éªŒè¯å­—ç¬¦ä¸²ä½¿ç”¨åå¼•å·

æ­¥éª¤3: æµ‹è¯•æœ€å°é…ç½®
- åªä¿ç•™å¿…éœ€æ ‡ç­¾ [name]
- é€æ­¥æ·»åŠ å…¶ä»–å±æ€§
- æ¯æ¬¡æ·»åŠ åæµ‹è¯•æ•ˆæœ
```

#### 2. äºŒåˆ†æŸ¥æ‰¾æ³•
```
å½“æ–‡ä»¶è¾ƒå¤§ä¸”é—®é¢˜ä¸æ˜ç¡®æ—¶ï¼š

1. å¤‡ä»½åŸæ–‡ä»¶
2. åˆ é™¤ä¸€åŠå†…å®¹ï¼Œæµ‹è¯•æ˜¯å¦æ­£å¸¸
3. å¦‚æœæ­£å¸¸ï¼Œé—®é¢˜åœ¨åˆ é™¤çš„éƒ¨åˆ†
4. å¦‚æœå¼‚å¸¸ï¼Œé—®é¢˜åœ¨ä¿ç•™çš„éƒ¨åˆ†
5. é‡å¤æ­¤è¿‡ç¨‹ç›´åˆ°æ‰¾åˆ°é—®é¢˜è¡Œ
```

### å¸¸è§é”™è¯¯å®šä½

#### è¯­æ³•é”™è¯¯å¿«é€Ÿå®šä½
```python
# å¿«é€Ÿè¯­æ³•æ£€æŸ¥è„šæœ¬
def quick_syntax_check(filepath):
    with open(filepath, 'r', encoding='utf-8') as f:
        lines = f.readlines()
    
    errors = []
    
    # æ£€æŸ¥å…³é”®é—®é¢˜
    for i, line in enumerate(lines, 1):
        # åŒå¼•å·æ£€æŸ¥
        if '"' in line and not line.strip().startswith('#'):
            errors.append(f"ç¬¬{i}è¡Œ: åŒå¼•å·é”™è¯¯")
        
        # ç©ºæ ¼ç¼©è¿›æ£€æŸ¥
        if line.startswith('  ') and not line.startswith('\t'):
            errors.append(f"ç¬¬{i}è¡Œ: ç©ºæ ¼ç¼©è¿›é”™è¯¯")
        
        # æ ‡ç­¾æ ¼å¼æ£€æŸ¥
        if '[' in line and ']' not in line:
            errors.append(f"ç¬¬{i}è¡Œ: æ ‡ç­¾æœªé—­åˆ")
    
    return errors
```

## ğŸ¯ ä¸“é¡¹è°ƒè¯•æŠ€å·§

### åŠ¨ç”»ç›¸å…³é—®é¢˜

#### é—®é¢˜ç°è±¡
- å¯¹è±¡ä¸æ˜¾ç¤º
- åŠ¨ç”»æ’­æ”¾å¼‚å¸¸
- å¸§ç‡é—®é¢˜

#### è°ƒè¯•æ­¥éª¤
```
1. æ£€æŸ¥ACTæ–‡ä»¶å¼•ç”¨
   [basic action]
   `Action/test.act`  # ç¡®è®¤è·¯å¾„æ­£ç¡®

2. éªŒè¯ACTæ–‡ä»¶å­˜åœ¨
   - æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
   - ç¡®è®¤æ–‡ä»¶åå¤§å°å†™
   - éªŒè¯æ–‡ä»¶å†…å®¹æ ¼å¼

3. æµ‹è¯•ç®€å•åŠ¨ç”»
   # ä½¿ç”¨æœ€ç®€å•çš„ACTæ–‡ä»¶æµ‹è¯•
   [basic action]
   `Action/simple_flash.act`

4. é€å¸§æ£€æŸ¥
   - ç¡®è®¤æ¯å¸§å›¾åƒå­˜åœ¨
   - æ£€æŸ¥å¸§æ—¶é—´è®¾ç½®
   - éªŒè¯å¾ªç¯è®¾ç½®
```

#### è°ƒè¯•ç”¨ACTæ–‡ä»¶
```
#PVF_File

[frame max]
2

[frame 0]
	[image]
		`common/commoneffect/dust/dust.img`
		0
	[image pos]
		0	0
	[delay]
		100

[frame 1]
	[image]
		`common/commoneffect/dust/dust.img`
		1
	[image pos]
		0	0
	[delay]
		100
```

### æ”»å‡»åˆ¤å®šé—®é¢˜

#### é—®é¢˜ç°è±¡
- æ”»å‡»æ— æ•ˆæœ
- ä¼¤å®³è®¡ç®—é”™è¯¯
- åˆ¤å®šèŒƒå›´å¼‚å¸¸

#### è°ƒè¯•æ­¥éª¤
```
1. æ£€æŸ¥ATKæ–‡ä»¶å¼•ç”¨
   [attack info]
   `AttackInfo/test.atk`

2. éªŒè¯æ”»å‡»å±æ€§
   - æ£€æŸ¥ä¼¤å®³å€¼è®¾ç½®
   - ç¡®è®¤æ”»å‡»ç±»å‹
   - éªŒè¯åˆ¤å®šèŒƒå›´

3. æµ‹è¯•åŸºç¡€æ”»å‡»
   # ä½¿ç”¨ç®€å•çš„ATKé…ç½®
   [attack info]
   `AttackInfo/basic_attack.atk`

4. é€é¡¹éªŒè¯
   - ä¼¤å®³è®¡ç®—å…¬å¼
   - å±æ€§åŠ æˆæ•ˆæœ
   - ç‰¹æ®Šæ•ˆæœè§¦å‘
```

#### è°ƒè¯•ç”¨ATKæ–‡ä»¶
```
#PVF_File

[damage]
100

[attack type]
`[magic]`

[weapon damage apply]
1

[attack direction]
`[auto]`

[hit info]
	[blow]
		`[up]`
		200	200
	[blood]
		`[normal]`
```

### å±‚çº§æ˜¾ç¤ºé—®é¢˜

#### é—®é¢˜ç°è±¡
- å¯¹è±¡è¢«é®æŒ¡
- æ˜¾ç¤ºé¡ºåºé”™è¯¯
- å±‚çº§å†²çª

#### è°ƒè¯•æ–¹æ³•
```
1. ç†è§£å±‚çº§ç³»ç»Ÿ
   [layer]
   `[bottom]`   # æœ€åº•å±‚
   `[normal]`   # æ™®é€šå±‚
   `[cover]`    # è¦†ç›–å±‚

2. æµ‹è¯•ä¸åŒå±‚çº§
   # é€ä¸ªæµ‹è¯•æ¯ä¸ªå±‚çº§çš„æ˜¾ç¤ºæ•ˆæœ
   
3. è°ƒæ•´å±‚çº§æ•°å€¼
   [layer level]
   0    # è¾ƒä½ä¼˜å…ˆçº§
   50   # ä¸­ç­‰ä¼˜å…ˆçº§
   100  # è¾ƒé«˜ä¼˜å…ˆçº§

4. æ£€æŸ¥å†²çª
   # ç¡®ä¿åŒå±‚çº§å¯¹è±¡çš„ä¼˜å…ˆçº§è®¾ç½®åˆç†
```

## ğŸ› ï¸ è°ƒè¯•å·¥å…·ä½¿ç”¨

### æ¸¸æˆå†…è°ƒè¯•

#### å¼€å‘è€…æ¨¡å¼
```
1. å¯ç”¨è°ƒè¯•æ¨¡å¼
   - ä¿®æ”¹æ¸¸æˆé…ç½®æ–‡ä»¶
   - å¯ç”¨å¼€å‘è€…é€‰é¡¹
   - æ‰“å¼€è°ƒè¯•ä¿¡æ¯æ˜¾ç¤º

2. å®æ—¶ç›‘æ§
   - æŸ¥çœ‹å¯¹è±¡åˆ›å»ºæ—¥å¿—
   - ç›‘æ§æ€§èƒ½æŒ‡æ ‡
   - è§‚å¯Ÿå†…å­˜ä½¿ç”¨

3. å‚æ•°è°ƒæ•´
   - å®æ—¶ä¿®æ”¹å¯¹è±¡å±æ€§
   - æµ‹è¯•ä¸åŒå‚æ•°ç»„åˆ
   - è§‚å¯Ÿæ•ˆæœå˜åŒ–
```

#### æ—¥å¿—åˆ†æ
```
å¸¸è§æ—¥å¿—ä¿¡æ¯ï¼š

[ERROR] Failed to load: passiveobject/test.obj
åŸå› : æ–‡ä»¶è·¯å¾„é”™è¯¯æˆ–è¯­æ³•é”™è¯¯

[WARNING] Missing animation file: Action/test.act
åŸå› : ACTæ–‡ä»¶ä¸å­˜åœ¨

[INFO] Object created: test_object (ID: 12345)
è¯´æ˜: å¯¹è±¡åˆ›å»ºæˆåŠŸ

[DEBUG] Animation frame: 5/10
è¯´æ˜: åŠ¨ç”»æ’­æ”¾çŠ¶æ€
```

### å¤–éƒ¨è°ƒè¯•å·¥å…·

#### æ–‡ä»¶ç›‘æ§å·¥å…·
```python
# æ–‡ä»¶å˜åŒ–ç›‘æ§è„šæœ¬
import os
import time
from watchdog.observers import Observer
from watchdog.events import FileSystemEventHandler

class OBJFileHandler(FileSystemEventHandler):
    def on_modified(self, event):
        if event.src_path.endswith('.obj'):
            print(f"OBJæ–‡ä»¶å·²ä¿®æ”¹: {event.src_path}")
            # è‡ªåŠ¨æ‰§è¡Œæ ¼å¼æ£€æŸ¥
            check_file_format(event.src_path)
    
    def on_created(self, event):
        if event.src_path.endswith('.obj'):
            print(f"æ–°OBJæ–‡ä»¶åˆ›å»º: {event.src_path}")

def monitor_directory(path):
    event_handler = OBJFileHandler()
    observer = Observer()
    observer.schedule(event_handler, path, recursive=True)
    observer.start()
    
    try:
        while True:
            time.sleep(1)
    except KeyboardInterrupt:
        observer.stop()
    observer.join()

# ä½¿ç”¨æ–¹æ³•
monitor_directory("./passiveobject/")
```

#### æ€§èƒ½åˆ†æå·¥å…·
```python
# æ€§èƒ½åˆ†æè„šæœ¬
import time
import psutil
import matplotlib.pyplot as plt

class PerformanceMonitor:
    def __init__(self):
        self.cpu_usage = []
        self.memory_usage = []
        self.timestamps = []
    
    def start_monitoring(self, duration=60):
        start_time = time.time()
        
        while time.time() - start_time < duration:
            # è®°å½•CPUå’Œå†…å­˜ä½¿ç”¨ç‡
            cpu = psutil.cpu_percent()
            memory = psutil.virtual_memory().percent
            timestamp = time.time() - start_time
            
            self.cpu_usage.append(cpu)
            self.memory_usage.append(memory)
            self.timestamps.append(timestamp)
            
            time.sleep(1)
    
    def generate_report(self):
        plt.figure(figsize=(12, 6))
        
        plt.subplot(2, 1, 1)
        plt.plot(self.timestamps, self.cpu_usage)
        plt.title('CPUä½¿ç”¨ç‡')
        plt.ylabel('ç™¾åˆ†æ¯” (%)')
        
        plt.subplot(2, 1, 2)
        plt.plot(self.timestamps, self.memory_usage)
        plt.title('å†…å­˜ä½¿ç”¨ç‡')
        plt.xlabel('æ—¶é—´ (ç§’)')
        plt.ylabel('ç™¾åˆ†æ¯” (%)')
        
        plt.tight_layout()
        plt.savefig('performance_report.png')
        plt.show()

# ä½¿ç”¨æ–¹æ³•
monitor = PerformanceMonitor()
monitor.start_monitoring(120)  # ç›‘æ§2åˆ†é’Ÿ
monitor.generate_report()
```

## ğŸ“‹ è°ƒè¯•æ£€æŸ¥æ¸…å•

### æ–‡ä»¶çº§æ£€æŸ¥
```
â–¡ æ–‡ä»¶ç¼–ç ä¸ºUTF-8
â–¡ æ–‡ä»¶å¤´ #PVF_File å­˜åœ¨
â–¡ æ‰€æœ‰å­—ç¬¦ä¸²ä½¿ç”¨åå¼•å·
â–¡ ç¼©è¿›ä½¿ç”¨Tabè€Œéç©ºæ ¼
â–¡ æ ‡ç­¾æ ¼å¼æ­£ç¡®ä¸”é…å¯¹
â–¡ å¿…éœ€æ ‡ç­¾ [name] å­˜åœ¨
â–¡ æ–‡ä»¶è·¯å¾„å¼•ç”¨æ­£ç¡®
â–¡ ä¾èµ–æ–‡ä»¶å­˜åœ¨
```

### åŠŸèƒ½çº§æ£€æŸ¥
```
â–¡ å¯¹è±¡èƒ½æ­£å¸¸åˆ›å»º
â–¡ åŠ¨ç”»æ’­æ”¾æ­£å¸¸
â–¡ æ”»å‡»åˆ¤å®šæœ‰æ•ˆ
â–¡ å±‚çº§æ˜¾ç¤ºæ­£ç¡®
â–¡ ç”Ÿå‘½å‘¨æœŸç¬¦åˆé¢„æœŸ
â–¡ æ€§èƒ½è¡¨ç°è‰¯å¥½
â–¡ æ— å†…å­˜æ³„æ¼
â–¡ å…¼å®¹æ€§æµ‹è¯•é€šè¿‡
```

### æµ‹è¯•ç”¨ä¾‹
```
â–¡ æœ€å°é…ç½®æµ‹è¯•
â–¡ å®Œæ•´åŠŸèƒ½æµ‹è¯•
â–¡ è¾¹ç•Œæ¡ä»¶æµ‹è¯•
â–¡ å¼‚å¸¸æƒ…å†µæµ‹è¯•
â–¡ æ€§èƒ½å‹åŠ›æµ‹è¯•
â–¡ å…¼å®¹æ€§æµ‹è¯•
â–¡ å›å½’æµ‹è¯•
â–¡ ç”¨æˆ·éªŒæ”¶æµ‹è¯•
```

## ğŸš¨ ç´§æ€¥é—®é¢˜å¤„ç†

### æ¸¸æˆå´©æºƒ
```
1. ç«‹å³å¤‡ä»½å½“å‰æ–‡ä»¶
2. æ¢å¤åˆ°æœ€åä¸€ä¸ªç¨³å®šç‰ˆæœ¬
3. é€æ­¥é‡æ–°åº”ç”¨ä¿®æ”¹
4. å®šä½å¯¼è‡´å´©æºƒçš„å…·ä½“æ›´æ”¹
5. ä¿®å¤é—®é¢˜åé‡æ–°æµ‹è¯•
```

### æ€§èƒ½é—®é¢˜
```
1. ä½¿ç”¨æ€§èƒ½ç›‘æ§å·¥å…·
2. è¯†åˆ«æ€§èƒ½ç“¶é¢ˆ
3. ä¼˜åŒ–èµ„æºä½¿ç”¨
4. å‡å°‘ä¸å¿…è¦çš„è®¡ç®—
5. æµ‹è¯•ä¼˜åŒ–æ•ˆæœ
```

### å…¼å®¹æ€§é—®é¢˜
```
1. ç¡®è®¤æ¸¸æˆç‰ˆæœ¬
2. æ£€æŸ¥æ–‡ä»¶æ ¼å¼ç‰ˆæœ¬
3. éªŒè¯ä¾èµ–æ–‡ä»¶ç‰ˆæœ¬
4. æµ‹è¯•ä¸åŒç¯å¢ƒ
5. æä¾›å…¼å®¹æ€§æ–¹æ¡ˆ
```

---

*ä¸‹ä¸€æ­¥ï¼šæŸ¥çœ‹ [æ€§èƒ½ä¼˜åŒ–](../06-è¿›é˜¶æŠ€å·§/æ€§èƒ½ä¼˜åŒ–.md)*