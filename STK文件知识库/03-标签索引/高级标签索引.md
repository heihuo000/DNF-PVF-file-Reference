# STK文件高级标签索引

## 📋 概述

本文档提供STK文件中高级功能标签的快速索引，涵盖增强剂、配方、投掷物品等特殊类型的专用标签。

## 🎁 增强剂/抽奖盒专用标签

### 基本结构
| 标签 | 用途 | 示例 |
|------|------|------|
| `[stackable type]` | 类型定义 | `[stackable type] \`[booster]\` 0` |
| `[booster info]` | 奖励信息开始 | `[booster info]` |
| `[/booster info]` | 奖励信息结束 | `[/booster info]` |

### 奖励类型标签
| 标签 | 用途 | 格式 | 示例 |
|------|------|------|------|
| `[avatar]` | 时装奖励 | `物品索引 相对概率 数量 持续时间` | `[avatar] 10001 100 1 0` |
| `[cera]` | 点券奖励 | `数量 相对概率` | `[cera] 1000 50` |
| `[creature]` | 宠物奖励 | `物品索引 相对概率 数量 持续时间` | `[creature] 20001 30 1 0` |
| `[equipment]` | 装备奖励 | `物品索引 相对概率 数量 持续时间 强化等级` | `[equipment] 11001 80 1 0 7` |
| `[stackable]` | 消耗品奖励 | `物品索引 相对概率 数量` | `[stackable] 21001 200 5` |
| `[other]` | 其他奖励 | `物品索引 相对概率 数量` | `[other] 30001 150 1` |

## 🔧 配方专用标签

### 基本结构
| 标签 | 用途 | 示例 |
|------|------|------|
| `[stackable type]` | 类型定义 | `[stackable type] \`[recipe]\` 0` |

### 配方数据结构
```
[int data]
需要材料数量
材料ID1 数量1
材料ID2 数量2
...

产出物品数量
物品ID1 数量1
物品ID2 数量2
...

需要技能数量
技能ID1 最低等级1
技能ID2 最低等级2
...

制作等级要求
[/int data]
```

### 制作类型标签
| 标签 | 用途 | 说明 |
|------|------|------|
| `[craftmanship]` | 工艺制作 | 武器、防具制作 |
| `[weaving]` | 纺织制作 | 布甲、皮甲制作 |
| `[machinary]` | 机械制作 | 枪械、机械装备制作 |
| `[chemistry]` | 化学制作 | 药水、炸弹制作 |
| `[enchant]` | 附魔制作 | 附魔卷轴制作 |

### 制作等级要求
| 数值 | 说明 |
|------|------|
| 0 | 所有等级制作师都可使用 |
| 1 | 需要高级制作师资格 |
| 2 | 需要专家制作师资格 |

## 🎯 投掷物品专用标签

### 基本结构
| 标签 | 用途 | 示例 |
|------|------|------|
| `[stackable type]` | 类型定义 | `[stackable type] \`[throw item]\` 0` |
| `[applying range]` | 作用范围 | `[applying range] 250` |

### 投掷数据结构
```
[int data]
被动对象索引
参数数量
参数1
参数2
...
投掷前延迟
投掷后延迟
速度反射率
速度倍率
[/int data]
```

### 被动对象类型
| 索引 | 效果类型 | 说明 |
|------|----------|------|
| 1001 | 回旋镖效果 | 投掷后返回 |
| 1002 | 爆炸效果 | 延迟爆炸 |
| 1003 | 穿透效果 | 穿透敌人 |
| 1004 | 弹跳效果 | 弹跳攻击 |
| 1005 | 追踪效果 | 自动追踪 |
| 1006 | 分裂效果 | 分裂攻击 |
| 1007 | 毒素效果 | 中毒伤害 |
| 1008 | 冰冻效果 | 冰冻敌人 |
| 1009 | 燃烧效果 | 燃烧伤害 |
| 1010 | 电击效果 | 电击麻痹 |

### 特效与音效标签
| 标签 | 用途 | 示例 |
|------|------|------|
| `[string data]` | 特效脚本路径 | `\`PassiveObject/ThrowItem/boomerang.ptl\`` |
| 音效标签 | 投掷音效 | `\`THROW_BOOMERANG\`` |

## 📦 潘多拉魔盒专用标签

### 基本结构
| 标签 | 用途 | 示例 |
|------|------|------|
| `[stackable type]` | 类型定义 | `[stackable type] \`[pandora box]\` 0` |

### 奖励数据结构
```
[int data]
默认物品ID

奖励物品数量
物品ID1 概率1 数量1
物品ID2 概率2 数量2
...
[/int data]
```

### 概率系统
| 概率值 | 实际概率 | 说明 |
|--------|----------|------|
| 1000 | 1% | 极稀有 |
| 5000 | 5% | 稀有 |
| 10000 | 10% | 较稀有 |
| 20000 | 20% | 普通 |
| 30000 | 30% | 常见 |

**注意**: 概率以100,000为基数，总概率建议为100,000

## 🏺 传承装备专用标签

### 基本结构
| 标签 | 用途 | 示例 |
|------|------|------|
| `[stackable type]` | 类型定义 | `[stackable type] \`[legacy]\` 0` |

### 传承数据结构
```
[int data]
默认装备ID

可能装备数量
装备ID1 概率1
装备ID2 概率2
...
[/int data]
```

### 传承类型
| 子类型 | 说明 |
|--------|------|
| 0 | 武器传承 |
| 1 | 防具传承 |
| 2 | 首饰传承 |
| 3 | 特殊装备传承 |
| 4 | 套装传承 |

## 🎴 怪物卡片专用标签

### 基本结构
| 标签 | 用途 | 示例 |
|------|------|------|
| `[stackable type]` | 类型定义 | `[stackable type] \`[material]\` 1` |
| `[sub type]` | 子类型 | `[sub type] 1` (怪物卡片) |

### 卡片数据标签
| 标签 | 用途 | 示例 |
|------|------|------|
| `[string data]` | 卡片图像包 | `\`MonsterCard/pack1.img\`` |
| 附魔目标 | 装备部位 | `\`weapon\`` |
| 箔纸类型 | 特效类型 | `\`normal\`` |
| 事件名称 | 关联事件 | `\`summer_event\`` |

### 附魔目标类型
| 类型 | 说明 |
|------|------|
| `weapon` | 武器 |
| `armor` | 防具 |
| `accessory` | 首饰 |
| `all` | 全部装备 |

### 箔纸类型
| 类型 | 说明 |
|------|------|
| `normal` | 普通 |
| `silver` | 银箔 |
| `gold` | 金箔 |
| `rainbow` | 彩虹箔 |

## 🔮 附魔属性标签

### 基础属性
| 标签 | 用途 | 格式 |
|------|------|------|
| `[enchant]` | 附魔开始 | `[enchant]` |
| `[/enchant]` | 附魔结束 | `[/enchant]` |

### 属性修改标签
| 标签 | 用途 | 示例 |
|------|------|------|
| `[HP MAX]` | 最大HP | `[HP MAX] 500` |
| `[MP MAX]` | 最大MP | `[MP MAX] 300` |
| `[physical attack]` | 物理攻击 | `[physical attack] 50` |
| `[magical attack]` | 魔法攻击 | `[magical attack] 50` |
| `[physical defense]` | 物理防御 | `[physical defense] 30` |
| `[magical defense]` | 魔法防御 | `[magical defense] 30` |
| `[strength]` | 力量 | `[strength] 20` |
| `[intelligence]` | 智力 | `[intelligence] 20` |
| `[vitality]` | 体力 | `[vitality] 15` |
| `[spirit]` | 精神 | `[spirit] 15` |

### 速度属性标签
| 标签 | 用途 | 示例 |
|------|------|------|
| `[move speed rate]` | 移动速度率 | `[move speed rate] 10` |
| `[attack speed rate]` | 攻击速度率 | `[attack speed rate] 5` |
| `[cast speed rate]` | 施法速度率 | `[cast speed rate] 8` |
| `[hit recovery rate]` | 硬直恢复率 | `[hit recovery rate] 15` |

### 特殊属性标签
| 标签 | 用途 | 示例 |
|------|------|------|
| `[inventory limit rate]` | 负重上限率 | `[inventory limit rate] 20` |
| `[HP regen speed]` | HP恢复速度 | `[HP regen speed] 10` |
| `[MP regen speed]` | MP恢复速度 | `[MP regen speed] 8` |
| `[jump power rate]` | 跳跃力率 | `[jump power rate] 15` |

## 🎯 任务道具专用标签

### 任务关联标签
| 标签 | 用途 | 示例 |
|------|------|------|
| `[quest]` | 关联任务 | `[quest] 12345` |
| `[quest flag]` | 任务标志 | `[quest flag] 1` |

### 特殊功能标签
| 标签 | 用途 | 示例 |
|------|------|------|
| `[event start date]` | 活动开始日期 | `[event start date] 20240101` |
| `[event end date]` | 活动结束日期 | `[event end date] 20240131` |

## 🔧 实用工具标签

### 调试标签
| 标签 | 用途 | 示例 |
|------|------|------|
| `[debug]` | 调试信息 | `[debug] 1` |
| `[test mode]` | 测试模式 | `[test mode] 1` |

### 版本控制标签
| 标签 | 用途 | 示例 |
|------|------|------|
| `[version]` | 版本号 | `[version] 1.0` |
| `[author]` | 作者 | `[author] \`Developer\`` |

## 🔗 快速导航

- [基础标签索引](基础标签索引.md)
- [基础STK类型](../01-基础STK类型/)
- [高级STK类型](../02-高级STK类型/)
- [实用工具](../04-实用工具/)

## 📚 相关参考

- [增强剂详解](../02-高级STK类型/增强剂详解.md)
- [配方详解](../02-高级STK类型/配方详解.md)
- [投掷物品详解](../02-高级STK类型/投掷物品详解.md)
- [潘多拉魔盒详解](../02-高级STK类型/潘多拉魔盒详解.md)
- [传承装备详解](../02-高级STK类型/传承装备详解.md)