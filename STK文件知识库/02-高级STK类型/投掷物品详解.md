#PVF_File

## 📋 概述

投掷物品是DNF中特殊的STK文件类型，主要用于远程攻击和特殊效果触发，如回旋镖、手里剑、炸弹等。

## 🏷️ 基本标签结构

### 物品基本信息
```
[name]	`魔法回旋镖`	//	投掷物品名称
[name2]	`Magic	Boomerang`	//	英文名称(可选)
[explain]	//	物品说明开始
`具有魔法力量的回旋镖
投掷后会自动返回使用者手中
造成魔法伤害并有几率触发特殊效果`
[/explain]	//	物品说明结束
[flavor	text]	`古老的魔法武器`	//	风味文本
```

### 等级与稀有度
```
[grade]	45	//	物品等级
[rarity]	3	//	稀有度
[weight]	8	//	重量
[minimum	level]	40	//	使用最低等级
```

## 🎯 投掷物品类型

### 类型定义
```
[stackable	type]	`[throw	item]`	0	//	投掷物品类型
```

### 子类型分类
```
[sub	type]	2	//	子类型
```

**投掷物品子类型**:
- `0` - 普通投掷物 (石头、飞刀)
- `1` - 爆炸物 (炸弹、手雷)
- `2` - 回旋物 (回旋镖、飞轮)
- `3` - 魔法投掷物 (魔法球、符咒)
- `4` - 特殊投掷物 (陷阱、诱饵)

## 💰 经济属性

### 交易属性
```
[attach	type]	`[trade]`	//	交易类型
```

### 价格设定
```
[price]	8000	//	NPC购买价格
[value]	4000	//	NPC出售价格
[creation	rate]	3	//	生成概率
```

## 🎯 投掷系统参数

### 作用范围
```
[applying	range]	250	//	作用范围	(像素)
```

### 核心投掷数据
```
[int	data]	//	整数数据开始

// 被动对象索引
1001	//	被动对象索引	(定义投掷物效果)

// 被动对象参数
5	//	参数数量
100	//	参数1:	基础伤害
50	//	参数2:	魔法伤害加成
200	//	参数3:	爆炸范围
15	//	参数4:	眩晕时间(毫秒)
80	//	参数5:	命中率加成

// 投掷延迟设定
300	//	投掷前延迟	(毫秒)
500	//	投掷后延迟	(毫秒)

// 速度参数
150	//	速度反射率	(%)
120	//	速度倍率	(%)

[/int	data]	//	整数数据结束
```

### 特效与音效
```
[string	data]	//	字符串数据开始
`PassiveObject/ThrowItem/boomerang.ptl` // 被动对象粒子脚本路径
`THROW_BOOMERANG`	//	投掷音效标签
[/string	data]	//	字符串数据结束
```

## 🔧 被动对象系统

### 被动对象类型
```
// 常用被动对象索引:
1001 - 回旋镖效果
1002 - 爆炸效果
1003 - 穿透效果
1004 - 弹跳效果
1005 - 追踪效果
1006 - 分裂效果
1007 - 毒素效果
1008 - 冰冻效果
1009 - 燃烧效果
1010 - 电击效果
```

### 参数配置说明
```
// 参数1-5的常见用途:
参数1: 基础伤害值
参数2: 属性伤害加成
参数3: 作用范围/爆炸半径
参数4: 持续时间/状态时间
参数5: 特殊效果强度/概率
```

## 🎨 视觉与音效

### 图标设定
```
[icon]	`ThrowIcon.img`	15	//	投掷物品图标
[field	image]	`ThrowField.img`	8	//	掉落显示图像
```

### 音效设定
```
[move	wav]	`THROW_TOUCH`	//	移动音效
[use	wav]	`THROW_USE`	//	使用音效
```

## 📋 完整示例

### 魔法回旋镖示例
```
[name]	`魔法回旋镖`
[explain]
`具有魔法力量的回旋镖
投掷后会自动返回使用者手中
造成魔法伤害并有几率触发特殊效果`
[grade]	45
[rarity]	3
[attach	type]	`[trade]`
[creation	rate]	3
[weight]	8
[usable	job]
`[all]`
[/usable	job]
[minimum	level]	40
[stackable	type]	`[throw	item]`	0
[sub	type]	2
[icon]	`ThrowIcon.img`	15
[field	image]	`ThrowField.img`	8
[price]	8000
[value]	4000
[move	wav]	`THROW_TOUCH`
[use	wav]	`THROW_USE`
[stack	limit]	50
[applying	range]	250
[int	data]
1001
5
100
50
200
15
80
300
500
150
120
[/int	data]
[string	data]
`PassiveObject/ThrowItem/boomerang.ptl`
`THROW_BOOMERANG`
[/string	data]
```

### 爆炸手雷示例
```
[name]	`高爆手雷`
[explain]
`军用高爆手雷
投掷后延迟爆炸
对范围内敌人造成大量伤害`
[grade]	35
[rarity]	2
[attach	type]	`[trade]`
[creation	rate]	5
[weight]	12
[usable	job]
`[gunner]`
[/usable	job]
[minimum	level]	30
[stackable	type]	`[throw	item]`	0
[sub	type]	1
[icon]	`ThrowIcon.img`	20
[field	image]	`ThrowField.img`	10
[price]	5000
[value]	2500
[move	wav]	`THROW_TOUCH`
[use	wav]	`THROW_USE`
[stack	limit]	30
[applying	range]	300
[int	data]
1002
4
200
0
300
2000
0
500
800
100
100
[/int	data]
[string	data]
`PassiveObject/ThrowItem/grenade.ptl`
`THROW_GRENADE`
[/string	data]
```

### 毒镖示例
```
[name]	`剧毒飞镖`
[explain]
`涂有剧毒的飞镖
命中敌人后会造成持续毒伤害
并降低敌人的移动速度`
[grade]	25
[rarity]	2
[attach	type]	`[trade]`
[creation	rate]	8
[weight]	3
[usable	job]
`[thief]`
[/usable	job]
[minimum	level]	20
[stackable	type]	`[throw	item]`	0
[sub	type]	0
[icon]	`ThrowIcon.img`	25
[field	image]	`ThrowField.img`	12
[price]	2000
[value]	1000
[move	wav]	`THROW_TOUCH`
[use	wav]	`THROW_USE`
[stack	limit]	100
[applying	range]	180
[int	data]
1007
5
80
30
0
5000
70
200
300
180
110
[/int	data]
[string	data]
`PassiveObject/ThrowItem/poison_dart.ptl`
`THROW_DART`
[/string	data]
```

### 冰冻球示例
```
[name]	`冰冻法球`
[explain]
`蕴含冰霜魔法的法球
命中敌人后会造成冰冻效果
并在爆炸时产生冰霜领域`
[grade]	55
[rarity]	4
[attach	type]	`[trade]`
[creation	rate]	2
[weight]	6
[usable	job]
`[mage]`
[/usable	job]
[minimum	level]	50
[stackable	type]	`[throw	item]`	0
[sub	type]	3
[icon]	`ThrowIcon.img`	30
[field	image]	`ThrowField.img`	15
[price]	12000
[value]	6000
[move	wav]	`THROW_TOUCH`
[use	wav]	`THROW_USE`
[stack	limit]	20
[applying	range]	280
[int	data]
1008
6
120
80
250
3000
90
400
600
140
130
[/int	data]
[string	data]
`PassiveObject/ThrowItem/ice_orb.ptl`
`THROW_ICE_ORB`
[/string	data]
```

### 追踪飞刀示例
```
[name]	`追踪飞刀`
[explain]
`具有追踪能力的魔法飞刀
投掷后会自动追踪最近的敌人
无视障碍物进行攻击`
[grade]	40
[rarity]	3
[attach	type]	`[trade]`
[creation	rate]	4
[weight]	5
[usable	job]
`[thief]` `[fighter]`
[/usable	job]
[minimum	level]	35
[stackable	type]	`[throw	item]`	0
[sub	type]	0
[icon]	`ThrowIcon.img`	18
[field	image]	`ThrowField.img`	9
[price]	6000
[value]	3000
[move	wav]	`THROW_TOUCH`
[use	wav]	`THROW_USE`
[stack	limit]	80
[applying	range]	400
[int	data]
1005
4
90
0
400
0
95
250
400
200
150
[/int	data]
[string	data]
`PassiveObject/ThrowItem/homing_knife.ptl`
`THROW_KNIFE`
[/string	data]
```

## 💡 设计建议

### 伤害平衡
1. **基础伤害**: 应与物品等级和稀有度匹配
2. **范围伤害**: 范围越大伤害应适当降低
3. **特殊效果**: 状态效果不应过于强力

### 使用体验
1. **投掷延迟**: 合理设置前后延迟，避免过快或过慢
2. **速度参数**: 确保投掷物有合适的飞行速度
3. **视觉效果**: 粒子效果应与物品类型匹配

### 职业平衡
1. **职业限制**: 某些投掷物应限制特定职业使用
2. **技能配合**: 考虑与职业技能的配合效果
3. **战术价值**: 提供不同的战术选择

### 经济考虑
1. **消耗性**: 投掷物通常是消耗品，价格要合理
2. **堆叠数量**: 合理设置堆叠上限
3. **获取途径**: 提供多种获取方式

## 🔗 相关链接

- [增强剂详解](增强剂详解.md)
- [配方详解](配方详解.md)
- [消耗品详解](../01-基础STK类型/消耗品详解.md)
- [实用工具](../04-实用工具/)